# Руководство по контрактам на Solidity для начинающих.

В этом руководстве мы продемонстрируем что создать смарт-контракт Эфириума относительно не сложно и для выполнения этой задачи нам потребуется только браузер! Никаких скачиваний и установок IDE.

Смарт-контракт - это программа-аккаунт в блокчейне Ethereum Classic. Как и у любой программы, у контракта есть состояние, которое изменяется в процессе выполнения.

Смарт-контракт исполняется транзакциями, сами собой контракты в блокчейне не работают. Контракт исполняется только в момент обращения к нему вызовом-транзакцией. Исключением являются get-функции. Достать из контракта информацию чтобы посмотреть можно в любой момент, если обратиться к функции с модификатором `constant returns`.

Чтобы заставить контракт что-то сделать или изменить состояние контракта требуется послать транзакцию, которая будет записана в блокчейн и вызовет исполнение (изменение состояния) контракта.

Смарт-контракты отлично подходят для реализации бизнес-логики, к примеру когда требуется создать цифровой актив без необходимости запускать для него целый отдельный блокчейн.

В данном примере мы не будем писать о приемах и особенностях программирования на solidity, уроки и документацию по этому языку вы можете найти [здесь (Solidity в примерах)](http://solidity.readthedocs.io/en/develop/solidity-by-example.html) и [здесь](https://bitsonblocks.net/2016/02/01/a-gentle-introduction-to-smart-contracts/). 

Мы опишем как же создать контракт, чем пользоваться, как разместить его в блокчейне и что с ним потом можно делать.

# Пишем смарт-контракт

Solidity - компилируемый язык программирования. Как следствие - вам понадобится компилятор. Чаще всего пользуются онлайн-компилятором Remix Solidity IDE(который разрабатывают Ethereum Foundation). Рекомендуем пользоваться компилятором версии `0.4.11+commit.68ef5810` т.к. последующие версии стабильными назвать сложно, в них и по сей день находят ошибки.

Вот ссылка на Remix: https://remix.ethereum.org/#version=soljson-v0.4.11+commit.68ef5810.js

В нашем примере мы будем деплоить [этот смарт-контракт](https://github.com/Sparke2/Contract-Tutorials/blob/master/example.sol).

![alt text](https://github.com/Sparke2/Contract-Tutorials/blob/master/Remix_1.jpg)


Знакомимся с Remix'ом:
![alt text](https://github.com/Sparke2/Contract-Tutorials/blob/master/Remix_2.jpg)

Деплоить в блокчейн можно только **байткод** смарт-контракта, т.е. уже скомпилированный набор опкодов виртуальной машины Ethereum.

## Компилируем контракт
И так мы написали код смарт-контракта. Теперь нужно его скомпилировать (не забудьте поставить галочку "Оптимизация" перед тем как компилировать контракт). Компиляция может занимать до 40 секунд, если контракт большой, так что будьте терпеливы и подождите:

![alt text](https://github.com/Sparke2/Contract-Tutorials/blob/master/Remix_3.jpg)

Если компилятор не выдал никаких критических ошибок, то теперь нам нужно получить **байткод** нашего смарт-контракта. Для этого переключитесь на вкладку **Contract** в Remix'e:

![alt text](https://github.com/Sparke2/Contract-Tutorials/blob/master/Remix_4_.jpg)


Здесь нас будут интересовать два поля: Bytecode (собственно байткод контракта) и Interface (абстрактный бинарный интерфейс контракта). Копируйте весь байткод контракта, а Interface пока отложим, он нам понадобится позже.

![alt text](https://github.com/Sparke2/Contract-Tutorials/blob/master/Remix_5.jpg)

На этом с онлайн-компилятором все, можем переходить непосредственно к размещению контракта на блокчейне.

# Деплоим смарт-контракт

Чтобы задеплоить (от англ. deploy - развернуть) наш смарт-контракт в блокчейне нам потребуется полный узел или веб-интерфейс для обращения к полному узлу и немного Эфира. Размещение смарт-контрактов в сети не бесплатное, их использование - тоже, за любое использование блокчейна придется платить, так что следует внимательнее отнестись к оптимизации.

Мы не будем размещать контракт в настоящей сети Эфириума, т.к. никакой реальной практической ценности наш экспериментальный контракт не представляет. Для того чтобы экспериментировать есть тестнет. В настоящий момент самым оптимальным вариантом для тестирования контрактов является тестнет Rinkeby. Им и будем пользоваться.

В качестве веб-интерфейса к полному узлу будем использовать MyEtherWallet: https://myetherwallet.com/

![alt text](https://github.com/Sparke2/Contract-Tutorials/blob/master/MEW_1.jpg)
